!function(t,e){var i=e;"undefined"!=typeof module&&module.exports?module.exports=i:(i.utils.namespace("io").variante=i,t.vars=i)}("undefined"!=typeof window?window:this,function(){var t,e,i;return function(n){function o(t,e){return v.call(t,e)}function r(t,e){var i,n,o,r,s,u,a,l,d,p,c,h=e&&e.split("/"),f=b.map,m=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(h=h.slice(0,h.length-1),t=t.split("/"),s=t.length-1,b.nodeIdCompat&&D.test(t[s])&&(t[s]=t[s].replace(D,"")),t=h.concat(t),d=0;d<t.length;d+=1)if(c=t[d],"."===c)t.splice(d,1),d-=1;else if(".."===c){if(1===d&&(".."===t[2]||".."===t[0]))break;d>0&&(t.splice(d-1,2),d-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((h||m)&&f){for(i=t.split("/"),d=i.length;d>0;d-=1){if(n=i.slice(0,d).join("/"),h)for(p=h.length;p>0;p-=1)if(o=f[h.slice(0,p).join("/")],o&&(o=o[n])){r=o,u=d;break}if(r)break;!a&&m&&m[n]&&(a=m[n],l=d)}!r&&a&&(r=a,u=l),r&&(i.splice(0,u,r),t=i.join("/"))}return t}function s(t,e){return function(){var i=O.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),h.apply(n,i.concat([t,e]))}}function u(t){return function(e){return r(e,t)}}function a(t){return function(e){g[t]=e}}function l(t){if(o(y,t)){var e=y[t];delete y[t],w[t]=!0,c.apply(n,e)}if(!o(g,t)&&!o(w,t))throw new Error("No "+t);return g[t]}function d(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function p(t){return function(){return b&&b.config&&b.config[t]||{}}}var c,h,f,m,g={},y={},b={},w={},v=Object.prototype.hasOwnProperty,O=[].slice,D=/\.js$/;f=function(t,e){var i,n=d(t),o=n[0];return t=n[1],o&&(o=r(o,e),i=l(o)),o?t=i&&i.normalize?i.normalize(t,u(e)):r(t,e):(t=r(t,e),n=d(t),o=n[0],t=n[1],o&&(i=l(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:i}},m={require:function(t){return s(t)},exports:function(t){var e=g[t];return"undefined"!=typeof e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:p(t)}}},c=function(t,e,i,r){var u,d,p,c,h,b,v=[],O=typeof i;if(r=r||t,"undefined"===O||"function"===O){for(e=!e.length&&i.length?["require","exports","module"]:e,h=0;h<e.length;h+=1)if(c=f(e[h],r),d=c.f,"require"===d)v[h]=m.require(t);else if("exports"===d)v[h]=m.exports(t),b=!0;else if("module"===d)u=v[h]=m.module(t);else if(o(g,d)||o(y,d)||o(w,d))v[h]=l(d);else{if(!c.p)throw new Error(t+" missing "+d);c.p.load(c.n,s(r,!0),a(d),{}),v[h]=g[d]}p=i?i.apply(g[t],v):void 0,t&&(u&&u.exports!==n&&u.exports!==g[t]?g[t]=u.exports:p===n&&b||(g[t]=p))}else t&&(g[t]=i)},t=e=h=function(t,e,i,o,r){if("string"==typeof t)return m[t]?m[t](e):l(f(t,e).f);if(!t.splice){if(b=t,b.deps&&h(b.deps,b.callback),!e)return;e.splice?(t=e,e=i,i=null):t=n}return e=e||function(){},"function"==typeof i&&(i=o,o=r),o?c(n,t,e,i):setTimeout(function(){c(n,t,e,i)},4),h},h.config=function(t){return h(t)},t._defined=g,i=function(t,e,i){e.splice||(i=e,e=[]),o(g,t)||o(y,t)||(y[t]=[t,e,i])},i.amd={jQuery:!0}}(),i("almond",function(){}),i("enums/dirtytype",{NONE:0,POSITION:1,SIZE:2,LAYOUT:4,STATE:8,DATA:16,LOCALE:32,DEPTH:64,CONFIG:128,STYLE:256,CUSTOM:512,ALL:4294967295}),i("enums",["enums/dirtytype"],function(t){var e=function(t){return t};return e.DirtyType=t,e}),i("utils",[],function(){function t(t,e){if(!t&&this.debug)throw e||"[vars]: Assertion failed."}function e(){this.debug&&window.console&&console.log&&Function.apply.call(console.log,console,arguments)}function i(e,i){t("string"==typeof e,"Invalid identifiers specified."),t("undefined"==typeof i||"object"==typeof i,"Invalid scope specified.");for(var n=e.split("."),o=void 0===i||null===i?window:i,r=0;r<n.length;r++)o=o[n[r]]||(o[n[r]]={});return o}function n(t,e){return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,e}function o(t){if(void 0!==t.length)return t.length;var e=0;switch(typeof t){case"object":if(null!==t&&void 0!==t)for(var i in t)e++;break;case"number":e=(""+t).length;break;default:e=0}return e}function r(t){return void 0===t||null===t?!0:!1}function s(){return"ontouchstart"in window.document.documentElement}var u={};return u.assert=t,u.log=e,u.namespace=i,u.inherit=n,u.sizeOf=o,u.isNull=r,u.isTouchEnabled=s,u}),i("ui/elementupdatedelegate",["../utils","../enums/dirtytype"],function(t,e){function i(i){this.debug&&t.log("[ElementUpdateDelegate]::new(",i,")");var n=0;this.element=i,this.setDirty=function(i,r){if(this.debug&&t.log("[ElementUpdateDelegate]::setDirty(",i,r,")"),!this.isDirty(i)||r){switch(i){case e.NONE:case e.ALL:n=i;break;default:n|=i}r?this.update():o(this.update.bind(this))}},this.isDirty=function(i){switch(this.debug&&t.log("[ElementUpdateDelegate]::isDirty(",i,n,")"),i){case e.NONE:case e.ALL:return n==i;default:return 0!==(i&n)}},this.init=function(){this.debug&&t.log("[ElementUpdateDelegate]::init()"),window&&(window.addEventListener("resize",r.bind(this)),window.addEventListener("orientationchange",r.bind(this)),window.addEventListener("scroll",s.bind(this))),this.setDirty(e.ALL)},this.destroy=function(){this.debug&&t.log("[ElementUpdateDelegate]::destroy()"),this.onUpdate=null},this.update=function(e){e&&"function"==typeof e?this._updateCallback?this._updateCallback=value:Object.defineProperty(this,"_updateCallback",{value:e,writable:!0}):(this.debug&&t.log("[ElementUpdateDelegate]::update()"),this._updateCallback&&this._updateCallback.call(null,n),this.setDirty(0))};var o=window&&window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){this.debug&&t.log("[ElementUpdateDelegate]::_requestAnimationFrame(",e,")"),window&&window.setTimeout(e,10)},r=function(){this.responsive&&this.setDirty(e.SIZE)},s=function(){this.responsive&&this.setDirty(e.POSITION)}}return Object.defineProperty(i.prototype,"debug",{value:!1,writable:!0}),Object.defineProperty(i.prototype,"element",{value:null,writable:!0}),Object.defineProperty(i.prototype,"responsive",{value:!1,writable:!0}),i}),i("ui/element",["../utils","../enums/dirtytype","../ui/elementupdatedelegate"],function(t,e,i){function n(e){this.debug&&t.log("[Element]::new(",e,")"),this.element=e,this.init()}return Object.defineProperty(n.prototype,"element",{get:function(){return this._element},set:function(e){t.assert(!this._element,"Element cannot be overwritten."),Object.defineProperty(this,"_element",{value:e,writable:!0}),this.updateDelegate.element=e}}),Object.defineProperty(n.prototype,"id",{get:function(){return this.element.id},set:function(t){this.element.setAttribute("id",t)}}),Object.defineProperty(n.prototype,"id",{get:function(){return this.element.className},set:function(t){this.element.className=t}}),Object.defineProperty(n.prototype,"debug",{get:function(){return this._debug},set:function(t){Object.defineProperty(this,"_debug",{value:t,writable:!0}),this.updateDelegate.debug=t}}),Object.defineProperty(n.prototype,"data",{get:function(){return this._data},set:function(t){Object.defineProperty(this,"_data",{value:t,writable:!0}),this.updateDelegate.setDirty(e.DATA)}}),Object.defineProperty(n.prototype,"updateDelegate",{get:function(){return this._updateDelegate||(Object.defineProperty(this,"_updateDelegate",{value:new i(this.element),writable:!1}),this._updateDelegate.update(this.update.bind(this))),this._updateDelegate}}),Object.defineProperty(n.prototype,"responsive",{get:function(){return this.updateDelegate.responsive},set:function(t){this.updateDelegate.responsive=t}}),Object.defineProperty(n.prototype,"isDirty",{get:function(){return this.updateDelegate.isDirty}}),n.prototype.init=function(){this.debug&&t.log("[Element]::init()"),this.element||(this.element=document.createElement("div")),this.updateDelegate.init()},n.prototype.destroy=function(){this.debug&&t.log("[Element]::destroy()"),this.updateDelegate.destroy()},n.prototype.update=function(){this.debug&&t.log("[Element]::update()")},n.prototype.toString=function(){return"[Element{"+this.name+"}]"},n}),i("ui/video",["../utils","../enums/dirtytype","../ui/element"],function(t,e,i){function n(e){vars.ui.Element.call(this,e),this.debug&&t.log("[Video]::new(",e,")"),t.assert(!e||e instanceof HTMLVideoElement,"Invalid element type specified. Must be an instance of HTMLVideoElement.")}var o=t.inherit(n,i);return n.PRELOAD={AUTO:"auto",METADATA:"metada",NONE:"none"},Object.defineProperty(n.prototype,"autoplay",{get:function(){return this.element.autoplay},set:function(t){this.element.autoplay=t,this.updateDelegate.setDirty(e.CUSTOM)}}),Object.defineProperty(n.prototype,"controls",{get:function(){return this.element.controls},set:function(t){this.element.controls=t,this.updateDelegate.setDirty(e.CUSTOM)}}),Object.defineProperty(n.prototype,"loop",{get:function(){return this.element.loop},set:function(t){this.element.loop=t,this.updateDelegate.setDirty(e.CUSTOM)}}),Object.defineProperty(n.prototype,"muted",{get:function(){return this.element.muted},set:function(t){this.element.muted=t,this.updateDelegate.setDirty(e.CUSTOM)}}),Object.defineProperty(n.prototype,"poster",{get:function(){return this.element.poster},set:function(t){this.element.poster=t,this.updateDelegate.setDirty(e.CUSTOM)}}),Object.defineProperty(n.prototype,"preload",{get:function(){return this.element.preload},set:function(t){this.element.preload=t,this.updateDelegate.setDirty(e.CUSTOM)}}),Object.defineProperty(n.prototype,"source",{get:function(){return this._source},set:function(t){Object.defineProperty(this,"_source",{value:t,writable:!0}),this.updateDelegate.setDirty(e.DATA)}}),n.prototype.init=function(){this.debug&&t.log("[Video]::init()"),this.element||(this.element=document.createElement("video")),o.prototype.init.call(this)},n.prototype.destroy=function(){this.debug&&t.log("[Video]::destroy()"),o.prototype.destroy.call(this)},n.prototype.update=function(i){this.debug&&t.log("[Video]::update()"),this.isDirty(e.DATA)&&this._updateSource(),this.isDirty(e.CUSTOM),o.prototype.update.call(this,i)},n.prototype._updateSource=function(){var t,e,i=this.element.getElementsByTagName("source");for(e=i.length,t=0;e>t;t++){var n=i[t];this.element.removeChild(n)}if(this.source)for(e=this.source.length,t=0;e>t;t++){var o=document.createElement("source"),r=this.source[t].src,s=this.source[t].type,u=r.split(".").pop();o.setAttribute("src",r),o.setAttribute("type",s||"video/"+u),this.element.appendChild(o)}},n}),i("ui",["utils","ui/element","ui/video"],function(t,e,i){function n(e,i,n){if(i){t.assert(!i.top||!isNaN(i.top),"Top property must be a number."),t.assert(!i.right||!isNaN(i.right),"Right property must be a number."),t.assert(!i.bottom||!isNaN(i.bottom),"Bottom property must be a number."),t.assert(!i.left||!isNaN(i.left),"Left property must be a number.");var o=i.units||"px";n&&(t.assert(!n.top||!isNaN(n.top),"Top constraint must be a number."),t.assert(!n.right||!isNaN(n.right),"Right constraint must be a number."),t.assert(!n.bottom||!isNaN(n.bottom),"Bottom constraint must be a number."),t.assert(!n.left||!isNaN(n.left),"Left constraint must be a number."));var r=n&&n.top?Math.min(i.top,n.top):i.top,s=n&&n.right?Math.min(i.right,n.right):i.right,u=n&&n.bottom?Math.min(i.bottom,n.bottom):i.bottom,a=n&&n.left?Math.min(i.left,n.left):i.left;return e&&(e.style?(e.style.top=String(r)+o,e.style.right=String(s)+o,e.style.bottom=String(u)+o,e.style.left=String(a)+o):e.css&&(e.css({top:String(r)+o}),e.css({right:String(s)+o}),e.css({bottom:String(u)+o}),e.css({left:String(a)+o}))),{top:r,right:s,bottom:u,left:a}}return e&&(e.style?(e.style.top="initial",e.style.right="initial",e.style.bottom="initial",e.style.left="initial"):e.css&&(e.css({top:"initial"}),e.css({right:"initial"}),e.css({bottom:"initial"}),e.css({left:"initial"}))),{top:"initial",right:"initial",bottom:"initial",left:"initial"}}function o(e,i,n){if(i){t.assert(!i.width||!isNaN(i.width),"Width property must be a number."),t.assert(!i.height||!isNaN(i.height),"Height property must be a number."),t.assert(!i.aspectRatio||!isNaN(i.aspectRatio),"Aspect ratio property must be a number.");var o=i.units||"px",r=i.aspectRatio?Number(i.aspectRatio):i.width/i.height,s=i.width,u=i.height,a=i.width,l=i.height,d="contain";n&&(t.assert(!n.width||!isNaN(n.width),"Width constraint must be a number."),t.assert(!n.height||!isNaN(n.height),"Height constraint must be a number."),n.type&&"cover"===n.type?(d="cover",n.width&&(a=Math.min(n.width,a)),n.width&&(l=Math.min(n.height,l))):(n.width&&(s=Math.min(n.width,s)),n.height&&(u=Math.min(n.height,u))));var p,c;return"contain"===d?(p=s>u?u*r:s,c=s>u?u:s/r,p>s?(p=s,c=p/r):c>u&&(c=u,p=c*r)):(p=a>l?l*r:a,c=a>l?l:a/r,a>p?(p=a,c=p/r):l>c&&(c=l,p=c*r)),e&&(e.style?(i.width&&(e.style.width=String(p)+o),i.height&&(e.style.height=String(c)+o)):e.css&&(i.width&&e.css({width:String(p)+o}),i.height&&e.css({height:String(c)+o}))),{width:p,height:c}}return e&&(e.style?(e.style.width="initial",e.style.height="initial"):e.css&&(e.css({width:"initial"}),e.css({height:"initial"}))),{width:"initial",height:"initial"}}function r(){if(t.assert(window&&document,"Window or document undefined."),!window||!document)return null;var e={};return $?(e.width=$(window).innerWidth(),e.height=$(window).innerHeight(),e.top=$(window).scrollTop(),e.left=$(window).scrollLeft(),e.bottom=e.top+e.height,e.right=e.left+e.width):(e.width=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e.height=Math.max(document.documentElement.clientHeight,window.innerHeight||0),e.top=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,e.left=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,e.bottom=e.top+e.height,e.right=e.left+e.width),e}function s(e){if(t.assert(e,"Invalid element specified."),t.assert(window&&document,"Window or document undefined."),!e||!window||!document)return null;if(e===window||$&&e===$(window))return r();var i=r(),n={};return n.width=e.outerWidth?e.outerWidth():e.getBoundingClientRect().width,n.height=e.outerHeight?e.outerHeight():e.getBoundingClientRect().height,n.top=e.offset?e.offset().top:e.getBoundingClientRect().top-i.y,n.left=e.offset?e.offset().left:e.getBoundingClientRect().left-i.x,n.bottom=n.top+n.height,n.right=n.left+n.width,n}function u(e,i){if(t.assert(e||i,"Invalid elements specified."),t.assert(window&&document,"Window or document undefined."),!e&&!i||!window||!document)return null;var n=s(e||window),o=s(i||window);if(!n||!o)return null;var r={};return r.width=Math.max(0,Math.min(n.right,o.right)-Math.max(n.left,o.left)),r.height=Math.max(0,Math.min(n.bottom,o.bottom)-Math.max(n.top,o.top)),r.top=Math.max(n.top,o.top),r.left=Math.max(n.left,o.left),r.bottom=r.top+r.height,r.right=r.left+r.width,r.width*r.height===0&&(r.width=0,r.height=0,r.top=0,r.left=0,r.bottom=0,r.right=0),r}var a=function(t){return t};return a.Element=e,a.Video=i,a.translate=n,a.transform=o,a.getViewportRect=r,a.getRect=s,a.getIntersectRect=u,a}),i("vars",["enums","ui","utils"],function(t,e,i){var n=function(t){return t};return Object.defineProperty(n,"enums",{value:t,writable:!1}),Object.defineProperty(n,"ui",{value:e,writable:!1}),Object.defineProperty(n,"utils",{value:i,writable:!1}),Object.defineProperty(n,"version",{value:"0.1.0",writable:!1}),Object.defineProperty(n,"debug",{get:function(){return n.utils.debug}.bind(this),set:function(t){n.utils.debug=t}.bind(this)}),n}),e("vars")}());