!function(t,e){var i=e;"undefined"!=typeof module&&module.exports?module.exports=i:(i.utils.namespace("io").variante=i,t.vars=i)}("undefined"!=typeof window?window:this,function(){var t,e,i;return function(n){function o(t,e){return v.call(t,e)}function r(t,e){var i,n,o,r,s,a,u,l,d,p,h,c=e&&e.split("/"),f=b.map,w=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(c=c.slice(0,c.length-1),t=t.split("/"),s=t.length-1,b.nodeIdCompat&&O.test(t[s])&&(t[s]=t[s].replace(O,"")),t=c.concat(t),d=0;d<t.length;d+=1)if(h=t[d],"."===h)t.splice(d,1),d-=1;else if(".."===h){if(1===d&&(".."===t[2]||".."===t[0]))break;d>0&&(t.splice(d-1,2),d-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((c||w)&&f){for(i=t.split("/"),d=i.length;d>0;d-=1){if(n=i.slice(0,d).join("/"),c)for(p=c.length;p>0;p-=1)if(o=f[c.slice(0,p).join("/")],o&&(o=o[n])){r=o,a=d;break}if(r)break;!u&&w&&w[n]&&(u=w[n],l=d)}!r&&u&&(r=u,a=l),r&&(i.splice(0,a,r),t=i.join("/"))}return t}function s(t,e){return function(){var i=N.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),c.apply(n,i.concat([t,e]))}}function a(t){return function(e){return r(e,t)}}function u(t){return function(e){g[t]=e}}function l(t){if(o(m,t)){var e=m[t];delete m[t],y[t]=!0,h.apply(n,e)}if(!o(g,t)&&!o(y,t))throw new Error("No "+t);return g[t]}function d(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function p(t){return function(){return b&&b.config&&b.config[t]||{}}}var h,c,f,w,g={},m={},b={},y={},v=Object.prototype.hasOwnProperty,N=[].slice,O=/\.js$/;f=function(t,e){var i,n=d(t),o=n[0];return t=n[1],o&&(o=r(o,e),i=l(o)),o?t=i&&i.normalize?i.normalize(t,a(e)):r(t,e):(t=r(t,e),n=d(t),o=n[0],t=n[1],o&&(i=l(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:i}},w={require:function(t){return s(t)},exports:function(t){var e=g[t];return"undefined"!=typeof e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:p(t)}}},h=function(t,e,i,r){var a,d,p,h,c,b,v=[],N=typeof i;if(r=r||t,"undefined"===N||"function"===N){for(e=!e.length&&i.length?["require","exports","module"]:e,c=0;c<e.length;c+=1)if(h=f(e[c],r),d=h.f,"require"===d)v[c]=w.require(t);else if("exports"===d)v[c]=w.exports(t),b=!0;else if("module"===d)a=v[c]=w.module(t);else if(o(g,d)||o(m,d)||o(y,d))v[c]=l(d);else{if(!h.p)throw new Error(t+" missing "+d);h.p.load(h.n,s(r,!0),u(d),{}),v[c]=g[d]}p=i?i.apply(g[t],v):void 0,t&&(a&&a.exports!==n&&a.exports!==g[t]?g[t]=a.exports:p===n&&b||(g[t]=p))}else t&&(g[t]=i)},t=e=c=function(t,e,i,o,r){if("string"==typeof t)return w[t]?w[t](e):l(f(t,e).f);if(!t.splice){if(b=t,b.deps&&c(b.deps,b.callback),!e)return;e.splice?(t=e,e=i,i=null):t=n}return e=e||function(){},"function"==typeof i&&(i=o,o=r),o?h(n,t,e,i):setTimeout(function(){h(n,t,e,i)},4),c},c.config=function(t){return c(t)},t._defined=g,i=function(t,e,i){e.splice||(i=e,e=[]),o(g,t)||o(m,t)||(m[t]=[t,e,i])},i.amd={jQuery:!0}}(),i("almond",function(){}),i("enums/dirtytype",{NONE:0,POSITION:1,SIZE:2,LAYOUT:4,STATE:8,DATA:16,LOCALE:32,DEPTH:64,CONFIG:128,STYLE:256,CUSTOM:512,ALL:4294967295}),i("enums",["enums/dirtytype"],function(t){var e=function(t){return t};return e.DirtyType=t,e}),i("utils",[],function(){function t(t,e){if(!t&&this.debug)throw e||"[vars]: Assertion failed."}function e(){this.debug&&window.console&&console.log&&Function.apply.call(console.log,console,arguments)}function i(e,i){t("string"==typeof e,"Invalid identifiers specified."),t("undefined"==typeof i||"object"==typeof i,"Invalid scope specified.");for(var n=e.split("."),o=void 0===i||null===i?window:i,r=0;r<n.length;r++)o=o[n[r]]||(o[n[r]]={});return o}function n(t,e){return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,e}function o(t){if(void 0!==t.length)return t.length;var e=0;switch(typeof t){case"object":if(null!==t&&void 0!==t)for(var i in t)e++;break;case"number":e=(""+t).length;break;default:e=0}return e}function r(t){return void 0===t||null===t?!0:!1}function s(){return"ontouchstart"in window.document.documentElement}var a={};return a.assert=t,a.log=e,a.namespace=i,a.inherit=n,a.sizeOf=o,a.isNull=r,a.isTouchEnabled=s,a}),i("ui/viewupdatedelegate",["../utils","../enums/dirtytype"],function(t,e){function i(i){t.log("[ViewUpdateDelegate]::new(",i,")");var n=0;this.setDirty=function(i,r){if(t.log("[ViewUpdateDelegate]::setDirty(",i,r,")"),!this.isDirty(i)||r){switch(i){case e.NONE:case e.ALL:n=i;break;default:n|=i}r?this.update():o(this.update.bind(this))}},this.isDirty=function(i){switch(t.log("[ViewUpdateDelegate]::isDirty(",i,n,")"),i){case e.NONE:case e.ALL:return n==i;default:return 0!==(i&n)}},this.init=function(){t.log("[ViewUpdateDelegate]::init()"),this.setDirty(e.ALL)},this.destroy=function(){t.log("[ViewUpdateDelegate]::destroy()"),this.onUpdate=null},this.update=function(){t.log("[ViewUpdateDelegate]::update()"),this.onUpdate&&this.onUpdate.call(null,n),this.setDirty(0)};var o=window&&window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){t.log("[ViewUpdateDelegate]::_requestAnimationFrame(",e,")"),window&&window.setTimeout(e,10)},r=function(){this.responsive&&this.setDirty(e.SIZE)},s=function(){this.responsive&&this.setDirty(e.POSITION)};window&&(window.addEventListener("resize",r.bind(this)),window.addEventListener("orientationchange",r.bind(this)),window.addEventListener("scroll",s.bind(this)))}return Object.defineProperty(i.prototype,"name",{value:"",writable:!0}),Object.defineProperty(i.prototype,"view",{value:null,writable:!1}),Object.defineProperty(i.prototype,"responsive",{value:!1,writable:!0}),Object.defineProperty(i.prototype,"onUpdate",{value:null,writable:!0}),i}),i("ui/viewmodel",["../utils","../enums/dirtytype","../ui/viewupdatedelegate"],function(t,e,i){function n(e){t.log("[ViewModel]::new(",e,")"),this.view=e,this.init()}return Object.defineProperty(n.prototype,"view",{value:null,writable:!0}),Object.defineProperty(n.prototype,"name",{value:"",writable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this._data},set:function(t){Object.defineProperty(this,"_data",{value:t,writable:!0}),this.viewUpdateDelegate.setDirty(e.DATA)}}),Object.defineProperty(n.prototype,"viewUpdateDelegate",{get:function(){return this._viewUpdateDelegate||(Object.defineProperty(this,"_viewUpdateDelegate",{value:new i(this.view),writable:!1}),this._viewUpdateDelegate.onUpdate=this.update.bind(this)),this._viewUpdateDelegate}}),Object.defineProperty(n.prototype,"responsive",{get:function(){return this.viewUpdateDelegate.responsive},set:function(t){this.viewUpdateDelegate.responsive=t}}),Object.defineProperty(n.prototype,"isDirty",{get:function(){return this.viewUpdateDelegate.isDirty}}),n.prototype.init=function(){t.log("[ViewModel]::init()"),this.viewUpdateDelegate.init()},n.prototype.destroy=function(){t.log("[ViewModel]::destroy()"),this.viewUpdateDelegate.destroy()},n.prototype.update=function(){t.log("[ViewModel]::update()")},n.prototype.toString=function(){return"[ViewModel{"+this.name+"}]"},n}),i("ui",["utils","ui/viewmodel"],function(t,e){function i(e,i,n){if(i){t.assert(!i.top||!isNaN(i.top),"Top property must be a number."),t.assert(!i.right||!isNaN(i.right),"Right property must be a number."),t.assert(!i.bottom||!isNaN(i.bottom),"Bottom property must be a number."),t.assert(!i.left||!isNaN(i.left),"Left property must be a number.");var o=i.units||"px";n&&(t.assert(!n.top||!isNaN(n.top),"Top constraint must be a number."),t.assert(!n.right||!isNaN(n.right),"Right constraint must be a number."),t.assert(!n.bottom||!isNaN(n.bottom),"Bottom constraint must be a number."),t.assert(!n.left||!isNaN(n.left),"Left constraint must be a number."));var r=n&&n.top?Math.min(i.top,n.top):i.top,s=n&&n.right?Math.min(i.right,n.right):i.right,a=n&&n.bottom?Math.min(i.bottom,n.bottom):i.bottom,u=n&&n.left?Math.min(i.left,n.left):i.left;return e&&(e.style?(e.style.top=String(r)+o,e.style.right=String(s)+o,e.style.bottom=String(a)+o,e.style.left=String(u)+o):e.css&&(e.css({top:String(r)+o}),e.css({right:String(s)+o}),e.css({bottom:String(a)+o}),e.css({left:String(u)+o}))),{top:r,right:s,bottom:a,left:u}}return e&&(e.style?(e.style.top="initial",e.style.right="initial",e.style.bottom="initial",e.style.left="initial"):e.css&&(e.css({top:"initial"}),e.css({right:"initial"}),e.css({bottom:"initial"}),e.css({left:"initial"}))),{top:"initial",right:"initial",bottom:"initial",left:"initial"}}function n(e,i,n){if(i){t.assert(!i.width||!isNaN(i.width),"Width property must be a number."),t.assert(!i.height||!isNaN(i.height),"Height property must be a number."),t.assert(!i.aspectRatio||!isNaN(i.aspectRatio),"Aspect ratio property must be a number.");var o=i.units||"px",r=i.aspectRatio?Number(i.aspectRatio):i.width/i.height,s=i.width,a=i.height,u=i.width,l=i.height,d="contain";n&&(t.assert(!n.width||!isNaN(n.width),"Width constraint must be a number."),t.assert(!n.height||!isNaN(n.height),"Height constraint must be a number."),n.type&&"cover"===n.type?(d="cover",n.width&&(u=Math.min(n.width,u)),n.width&&(l=Math.min(n.height,l))):(n.width&&(s=Math.min(n.width,s)),n.height&&(a=Math.min(n.height,a))));var p,h;return"contain"===d?(p=s>a?a*r:s,h=s>a?a:s/r,p>s?(p=s,h=p/r):h>a&&(h=a,p=h*r)):(p=u>l?l*r:u,h=u>l?l:u/r,u>p?(p=u,h=p/r):l>h&&(h=l,p=h*r)),e&&(e.style?(i.width&&(e.style.width=String(p)+o),i.height&&(e.style.height=String(h)+o)):e.css&&(i.width&&e.css({width:String(p)+o}),i.height&&e.css({height:String(h)+o}))),{width:p,height:h}}return e&&(e.style?(e.style.width="initial",e.style.height="initial"):e.css&&(e.css({width:"initial"}),e.css({height:"initial"}))),{width:"initial",height:"initial"}}function o(){if(t.assert(window&&document,"Window or document undefined."),!window||!document)return null;var e={};return $?(e.width=$(window).innerWidth(),e.height=$(window).innerHeight(),e.top=$(window).scrollTop(),e.left=$(window).scrollLeft(),e.bottom=e.top+e.height,e.right=e.left+e.width):(e.width=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e.height=Math.max(document.documentElement.clientHeight,window.innerHeight||0),e.top=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,e.left=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,e.bottom=e.top+e.height,e.right=e.left+e.width),e}function r(e){if(t.assert(e,"Invalid element specified."),t.assert(window&&document,"Window or document undefined."),!e||!window||!document)return null;if(e===window||$&&e===$(window))return o();var i=o(),n={};return n.width=e.outerWidth?e.outerWidth():e.getBoundingClientRect().width,n.height=e.outerHeight?e.outerHeight():e.getBoundingClientRect().height,n.top=e.offset?e.offset().top:e.getBoundingClientRect().top-i.y,n.left=e.offset?e.offset().left:e.getBoundingClientRect().left-i.x,n.bottom=n.top+n.height,n.right=n.left+n.width,n}function s(e,i){if(t.assert(e||i,"Invalid elements specified."),t.assert(window&&document,"Window or document undefined."),!e&&!i||!window||!document)return null;var n=r(e||window),o=r(i||window);if(!n||!o)return null;var s={};return s.width=Math.max(0,Math.min(n.right,o.right)-Math.max(n.left,o.left)),s.height=Math.max(0,Math.min(n.bottom,o.bottom)-Math.max(n.top,o.top)),s.top=Math.max(n.top,o.top),s.left=Math.max(n.left,o.left),s.bottom=s.top+s.height,s.right=s.left+s.width,s.width*s.height===0&&(s.width=0,s.height=0,s.top=0,s.left=0,s.bottom=0,s.right=0),s}var a=function(t){return t};return a.ViewModel=e,a.translate=i,a.transform=n,a.getViewportRect=o,a.getRect=r,a.getIntersectRect=s,a}),i("vars",["enums","ui","utils"],function(t,e,i){var n=function(t){return t};return Object.defineProperty(n,"enums",{value:t,writable:!1}),Object.defineProperty(n,"ui",{value:e,writable:!1}),Object.defineProperty(n,"utils",{value:i,writable:!1}),Object.defineProperty(n,"version",{value:"0.1.0",writable:!1}),Object.defineProperty(n,"debug",{get:function(){return n.utils.debug}.bind(this),set:function(t){n.utils.debug=t}.bind(this)}),n}),e("vars")}());